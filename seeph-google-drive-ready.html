<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SEEPH 2025 - Parcours Interactif</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #4c51bf 0%, #6b46c1 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        .screen {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        h1 {
            color: #4c51bf;
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        h2 {
            color: #6b46c1;
            text-align: center;
            font-size: 1.5em;
            margin-bottom: 30px;
        }

        .intro-text {
            color: #555;
            line-height: 1.6;
            margin-bottom: 30px;
            text-align: center;
        }

        .block-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .block-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
        }

        .block-card h3 {
            font-size: 1.2em;
            margin-bottom: 10px;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.1em;
            font-weight: bold;
            border-radius: 30px;
            cursor: pointer;
            display: block;
            margin: 30px auto;
            transition: transform 0.2s;
        }

        .btn:hover {
            transform: scale(1.05);
        }

        .question-card {
            margin-bottom: 30px;
        }

        .situation-box {
            background: #f3f4f6;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .question {
            font-size: 1.3em;
            font-weight: bold;
            color: #333;
            margin-bottom: 20px;
        }

        .option {
            background: white;
            border: 2px solid #e5e7eb;
            padding: 15px;
            margin: 10px 0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .option:hover {
            border-color: #667eea;
            background: #f9fafb;
        }

        .option.selected {
            border-color: #667eea;
            background: #eef2ff;
        }

        .option.correct {
            border-color: #10b981;
            background: #d1fae5;
        }

        .option.incorrect {
            border-color: #ef4444;
            background: #fee2e2;
        }

        .explanation {
            background: #fef3c7;
            border-left: 4px solid #f59e0b;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .score-display {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
        }

        .score-box {
            background: #f3f4f6;
            padding: 15px 30px;
            border-radius: 10px;
            text-align: center;
        }

        .score-box .number {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
        }

        .score-box .label {
            font-size: 0.9em;
            color: #666;
        }

        .video-link {
            display: inline-block;
            background: white;
            border: 2px solid #667eea;
            color: #667eea;
            padding: 10px 20px;
            border-radius: 20px;
            text-decoration: none;
            margin-top: 15px;
            font-weight: 600;
        }

        .video-link:hover {
            background: #667eea;
            color: white;
        }

        .progress {
            text-align: center;
            color: #666;
            margin-bottom: 20px;
            font-weight: 600;
        }

        .hidden {
            display: none;
        }

        .block-transition {
            text-align: center;
            padding: 40px;
        }

        .block-transition h2 {
            color: #10b981;
            font-size: 2em;
            margin-bottom: 20px;
        }

        @media (max-width: 768px) {
            .screen {
                padding: 20px;
            }
            h1 {
                font-size: 1.8em;
            }
            .block-cards {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- √âcran d'accueil -->
        <div id="welcomeScreen" class="screen">
            <h1>üåü SEEPH 2025</h1>
            <h2>Parcours Interactif : Handicap et Sant√© Mentale</h2>
            <p class="intro-text">
                Bienvenue dans ce parcours immersif sur le handicap au travail, avec un focus particulier sur la <strong>sant√© mentale</strong>, cause nationale 2025 en France.
            </p>
            <p class="intro-text">
                Vous allez vivre <strong>9 situations professionnelles r√©elles</strong> r√©parties en 2 blocs th√©matiques et prendre des d√©cisions. Chaque choix compte pour construire un environnement de travail inclusif et bienveillant.
            </p>
            
            <div class="block-cards">
                <div class="block-card">
                    <h3>üëÅÔ∏è Bloc 1</h3>
                    <p>Handicap Visible & Invisible</p>
                    <p><strong>6 situations</strong></p>
                </div>
                <div class="block-card">
                    <h3>üß† Bloc 2</h3>
                    <p>Sant√© Mentale & Burn-out</p>
                    <p><strong>3 situations</strong></p>
                </div>
            </div>

            <button class="btn" onclick="startGame()">Commencer le parcours ‚Üí</button>
        </div>

        <!-- √âcran de jeu -->
        <div id="gameScreen" class="screen hidden">
            <div class="score-display">
                <div class="score-box">
                    <div class="number" id="scoreDisplay">0</div>
                    <div class="label">Connaissance</div>
                </div>
                <div class="score-box">
                    <div class="number" id="empathyDisplay">0</div>
                    <div class="label">Empathie</div>
                </div>
            </div>

            <div class="progress" id="progressDisplay"></div>

            <div id="questionContainer"></div>

            <button id="validateBtn" class="btn hidden" onclick="validateAnswer()">Valider ma r√©ponse</button>
            <button id="nextBtn" class="btn hidden" onclick="nextQuestion()">Question suivante ‚Üí</button>
        </div>

        <!-- √âcran transition bloc -->
        <div id="transitionScreen" class="screen hidden">
            <div class="block-transition">
                <h2>üéØ Bloc 1 termin√© !</h2>
                <div class="score-display">
                    <div class="score-box">
                        <div class="number" id="transScore">0</div>
                        <div class="label">Connaissance</div>
                    </div>
                    <div class="score-box">
                        <div class="number" id="transEmpathy">0</div>
                        <div class="label">Empathie</div>
                    </div>
                </div>
                <h3 style="margin: 30px 0;">Bloc suivant : Sant√© Mentale & Burn-out</h3>
                <p>3 nouvelles situations √† d√©couvrir</p>
                <button class="btn" onclick="continueToBlock2()">Continuer vers le Bloc 2 ‚Üí</button>
            </div>
        </div>

        <!-- √âcran final -->
        <div id="finalScreen" class="screen hidden">
            <h1>üéâ F√©licitations !</h1>
            <h2>Parcours termin√©</h2>
            
            <div class="score-display" style="margin: 40px 0;">
                <div class="score-box">
                    <div class="number" id="finalScore">0</div>
                    <div class="label">Connaissance / 90</div>
                </div>
                <div class="score-box">
                    <div class="number" id="finalEmpathy">0</div>
                    <div class="label">Empathie / 31</div>
                </div>
            </div>

            <div id="profileMessage" style="background: #f3f4f6; padding: 20px; border-radius: 10px; margin: 30px 0;">
            </div>

            <div style="background: #eef2ff; padding: 20px; border-radius: 10px;">
                <h3 style="color: #4c51bf; margin-bottom: 15px;">üìö Pour aller plus loin</h3>
                <ul style="list-style: none; line-height: 2;">
                    <li>‚Ä¢ Contactez votre r√©f√©rent handicap</li>
                    <li>‚Ä¢ Participez au Duo Day pour d√©couvrir d'autres r√©alit√©s</li>
                    <li>‚Ä¢ √âcoutez les podcasts sur la sant√© mentale au travail</li>
                    <li>‚Ä¢ Sensibilisez vos √©quipes √† l'inclusion</li>
                </ul>
            </div>

            <button class="btn" onclick="restartGame()">üîÑ Recommencer le parcours</button>
        </div>
    </div>

    <script>
        const scenarios = [
            // BLOC 1
            {
                block: 1,
                category: "Reconnaissance du handicap",
                situation: "Lors d'une formation sur le handicap, on vous demande de r√©fl√©chir aux maladies pouvant √™tre reconnues comme handicap.",
                question: "Parmi les maladies suivantes, lesquelles peuvent √™tre reconnues comme un handicap ?",
                options: [
                    { text: "Le cancer", correct: true },
                    { text: "La dyslexie", correct: true },
                    { text: "La d√©pression", correct: true },
                    { text: "Les troubles musculo-squelettiques (TMS)", correct: true },
                    { text: "Le VIH / Sida", correct: true },
                    { text: "Le diab√®te", correct: true }
                ],
                multipleChoice: true,
                explanation: "Toutes ces pathologies peuvent √™tre reconnues comme handicap ! Le handicap ne se limite pas au handicap visible. Une maladie chronique, psychique ou invalidante peut ouvrir des droits.",
                video: "https://www.youtube.com/watch?v=sqx8JpwxclU",
                empathyPoints: 2
            },
            {
                block: 1,
                category: "Reconversion professionnelle",
                situation: "Marc, chauffeur poids lourd depuis 15 ans, a perdu l'usage d'un bras suite √† un accident.",
                question: "Lorsqu'un chauffeur poids lourd perd l'usage d'un bras, il ne peut plus exercer son m√©tier.",
                options: [
                    { text: "Vrai", correct: false },
                    { text: "Faux", correct: true }
                ],
                multipleChoice: false,
                explanation: "FAUX ! Il existe des am√©nagements de poste et des dispositifs d'adaptation. Avec des am√©nagements techniques du v√©hicule et un accompagnement adapt√©, Marc peut continuer son m√©tier.",
                video: "https://www.youtube.com/watch?v=IoJHa-KcmkA",
                empathyPoints: 3
            },
            {
                block: 1,
                category: "Ressources et accompagnement",
                situation: "Sophie, votre coll√®gue en situation de handicap, vous confie qu'elle se sent en difficult√© dans son travail. Elle vous demande conseil.",
                question: "Si un coll√®gue en situation de handicap se sent en difficult√© dans son travail, je lui conseille de... (plusieurs bonnes r√©ponses)",
                options: [
                    { text: "Contacter le r√©f√©rent handicap de l'entreprise", correct: true },
                    { text: "Prendre rendez-vous avec la m√©decine du travail", correct: true },
                    { text: "Parler √† son manager ou RH", correct: true },
                    { text: "Contacter Cap emploi ou l'AGEFIPH", correct: true },
                    { text: "Contacter France Travail", correct: false }
                ],
                multipleChoice: true,
                explanation: "Toutes les r√©ponses sont bonnes SAUF France Travail. En interne : r√©f√©rent handicap, m√©decine du travail, RH. En externe : Cap emploi et AGEFIPH.",
                video: "https://www.youtube.com/watch?v=2Q-85nFvoZA",
                empathyPoints: 3
            },
            {
                block: 1,
                category: "Am√©nagements horaires",
                situation: "Karim doit recevoir des soins m√©dicaux t√¥t le matin pour son handicap. Il ne sait pas comment aborder le sujet au travail.",
                question: "Mon coll√®gue handicap√© doit recevoir des soins t√¥t le matin. Je lui conseille de...",
                options: [
                    { text: "Passer √† temps partiel", correct: false },
                    { text: "Demander √† la m√©decine du travail un am√©nagement d'horaire", correct: true },
                    { text: "Demander un traitement de faveur √† la direction", correct: false }
                ],
                multipleChoice: false,
                explanation: "C'est le r√¥le de la m√©decine du travail de pr√©coniser des am√©nagements (horaires, poste...). Ce n'est pas un traitement de faveur mais un droit.",
                video: "https://www.youtube.com/watch?v=CKypKZDP7Ho",
                empathyPoints: 3
            },
            {
                block: 1,
                category: "Troubles du spectre autistique",
                situation: "L√©a, qui pr√©sente des troubles du spectre autistique (TSA), a tendance √† parler tr√®s fort durant les r√©unions et √† couper syst√©matiquement la parole.",
                question: "Comment r√©agir ?",
                options: [
                    { text: "Je la laisse faire et je m'adapte compl√®tement", correct: false },
                    { text: "Je lui rappelle simplement, sans m'√©nerver, les r√®gles s'appliquant √† tous", correct: true },
                    { text: "Je ne l'invite plus aux r√©unions et lui envoie des comptes-rendus", correct: false }
                ],
                multipleChoice: false,
                explanation: "Les personnes TSA peuvent avoir des difficult√©s avec les codes sociaux implicites. Un rappel bienveillant et explicite des r√®gles les aide.",
                video: "https://www.youtube.com/watch?v=P2FDaXCL5u8",
                empathyPoints: 3
            },
            {
                block: 1,
                category: "Accompagnement maladie grave",
                situation: "Nadia vient de vous annoncer qu'elle a un cancer. Vous √™tes son coll√®gue proche et souhaitez bien r√©agir.",
                question: "Quelle(s) attitude(s) adopter ? (Plusieurs r√©ponses)",
                options: [
                    { text: "Je lui demande si elle a d√©j√† pris RDV avec la m√©decine du travail", correct: true },
                    { text: "Je ne dis rien pour bien s√©parer professionnel et personnel", correct: false },
                    { text: "Je prends l'initiative de faire une partie de son travail", correct: false },
                    { text: "Je l'assure de ma pr√©sence et disponibilit√© en cas de besoin", correct: true }
                ],
                multipleChoice: true,
                explanation: "Orienter vers la m√©decine du travail est utile pour les am√©nagements. Lui montrer votre soutien sans l'infantiliser est essentiel.",
                video: "https://www.youtube.com/shorts/aLB_c_1YjP8",
                empathyPoints: 4
            },
            // BLOC 2
            {
                block: 2,
                category: "Sant√© mentale - D√©pression",
                situation: "Alex, qui a d√©j√† connu des √©pisodes de d√©pression, s'isole progressivement et communique de moins en moins avec l'√©quipe depuis quelques semaines.",
                question: "Quelle est la bonne attitude √† adopter ?",
                options: [
                    { text: "Je tente d'√©tablir un dialogue bienveillant", correct: true },
                    { text: "Je le laisse tranquille, il reviendra de lui-m√™me", correct: false }
                ],
                multipleChoice: false,
                explanation: "L'isolement est un signal d'alerte. Tenter un dialogue bienveillant peut aider Alex √† demander de l'aide. Votre √©coute compte !",
                video: "https://www.youtube.com/watch?v=zqHJq6vUxxE",
                empathyPoints: 4
            },
            {
                block: 2,
                category: "Burn-out - Signaux d'alerte",
                situation: "Vous observez des changements de comportement chez plusieurs coll√®gues et vous vous interrogez sur les signes d'un burn-out.",
                question: "Quels sont les signes d'un risque de burn-out ? (Plusieurs bonnes r√©ponses)",
                options: [
                    { text: "Fatigue intense persistante", correct: true },
                    { text: "Difficult√©s de concentration", correct: true },
                    { text: "Retrait social", correct: true },
                    { text: "Motivation excessive", correct: false }
                ],
                multipleChoice: true,
                explanation: "Selon l'OMS, le burn-out est un syndrome li√© √† un stress chronique non g√©r√© au travail. La fatigue persistante, les difficult√©s de concentration et le retrait social sont des signes d'alerte majeurs.",
                video: "https://youtu.be/n24awcIMvrA",
                empathyPoints: 4
            },
            {
                block: 2,
                category: "Retour apr√®s arr√™t maladie",
                situation: "Julie s'appr√™te √† reprendre son poste apr√®s un arr√™t maladie de longue dur√©e. Elle vous demande conseil.",
                question: "Une coll√®gue s'appr√™te √† reprendre apr√®s un arr√™t maladie long. Que faire ? (Plusieurs bonnes r√©ponses)",
                options: [
                    { text: "Rassurer tout le monde sur son √©tat, m√™me si ses probl√®mes ne sont pas r√©gl√©s", correct: false },
                    { text: "Anticiper son retour avec la m√©decine du travail et son responsable", correct: true },
                    { text: "Rattraper le temps perdu en redoublant d'efforts", correct: false },
                    { text: "Engager une d√©marche de reconnaissance du handicap", correct: true }
                ],
                multipleChoice: true,
                explanation: "Un retour anticip√© avec la m√©decine du travail permet un am√©nagement adapt√©. La RQTH peut ouvrir des droits. Se surcharger risque une rechute.",
                video: "https://www.youtube.com/watch?v=fWYg4uJ73mU",
                empathyPoints: 4
            }
        ];

        let currentQuestion = 0;
        let score = 0;
        let empathyScore = 0;
        let selectedAnswers = [];

        function startGame() {
            document.getElementById('welcomeScreen').classList.add('hidden');
            document.getElementById('gameScreen').classList.remove('hidden');
            loadQuestion();
        }

        function loadQuestion() {
            const scenario = scenarios[currentQuestion];
            selectedAnswers = [];
            
            document.getElementById('progressDisplay').textContent = `Question ${currentQuestion + 1} / ${scenarios.length}`;
            
            let html = `
                <div class="question-card">
                    <div style="background: #eef2ff; padding: 15px; border-radius: 10px; margin-bottom: 20px;">
                        <strong style="color: #667eea;">${scenario.category}</strong>
                    </div>
                    <div class="situation-box">
                        <strong>üìñ Situation</strong><br>
                        ${scenario.situation}
                    </div>
                    <div class="question">${scenario.question}</div>
                    <div id="optionsContainer">
            `;
            
            scenario.options.forEach((option, index) => {
                html += `<div class="option" onclick="selectOption(${index})" id="option${index}">${option.text}</div>`;
            });
            
            html += `</div></div>`;
            
            document.getElementById('questionContainer').innerHTML = html;
            document.getElementById('validateBtn').classList.remove('hidden');
            document.getElementById('nextBtn').classList.add('hidden');
        }

        function selectOption(index) {
            const scenario = scenarios[currentQuestion];
            
            if (scenario.multipleChoice) {
                const optionEl = document.getElementById('option' + index);
                if (selectedAnswers.includes(index)) {
                    selectedAnswers = selectedAnswers.filter(i => i !== index);
                    optionEl.classList.remove('selected');
                } else {
                    selectedAnswers.push(index);
                    optionEl.classList.add('selected');
                }
            } else {
                selectedAnswers = [index];
                for (let i = 0; i < scenario.options.length; i++) {
                    document.getElementById('option' + i).classList.remove('selected');
                }
                document.getElementById('option' + index).classList.add('selected');
            }
        }

        function validateAnswer() {
            if (selectedAnswers.length === 0) {
                alert('Veuillez s√©lectionner au moins une r√©ponse');
                return;
            }

            const scenario = scenarios[currentQuestion];
            let isCorrect = false;

            if (scenario.multipleChoice) {
                const correctIndices = scenario.options.map((opt, idx) => opt.correct ? idx : -1).filter(idx => idx !== -1);
                const sortedSelected = [...selectedAnswers].sort();
                const sortedCorrect = [...correctIndices].sort();
                isCorrect = JSON.stringify(sortedSelected) === JSON.stringify(sortedCorrect);
            } else {
                isCorrect = scenario.options[selectedAnswers[0]].correct;
            }

            if (isCorrect) {
                score += 10;
                empathyScore += scenario.empathyPoints;
            }

            scenario.options.forEach((option, index) => {
                const optionEl = document.getElementById('option' + index);
                optionEl.style.pointerEvents = 'none';
                if (option.correct) {
                    optionEl.classList.add('correct');
                } else if (selectedAnswers.includes(index)) {
                    optionEl.classList.add('incorrect');
                }
            });

            let explanationHtml = `
                <div class="explanation">
                    <strong>${isCorrect ? '‚úÖ Bravo !' : 'üí° √Ä retenir'}</strong><br><br>
                    ${scenario.explanation}
                    ${scenario.video ? `<br><br><a href="${scenario.video}" target="_blank" class="video-link">üé• Voir la vid√©o explicative</a>` : ''}
                </div>
            `;
            
            document.getElementById('optionsContainer').insertAdjacentHTML('afterend', explanationHtml);
            
            document.getElementById('scoreDisplay').textContent = score;
            document.getElementById('empathyDisplay').textContent = empathyScore;
            document.getElementById('validateBtn').classList.add('hidden');
            document.getElementById('nextBtn').classList.remove('hidden');
        }

        function nextQuestion() {
            currentQuestion++;
            
            if (currentQuestion === 6) {
                // Transition entre blocs
                document.getElementById('gameScreen').classList.add('hidden');
                document.getElementById('transitionScreen').classList.remove('hidden');
                document.getElementById('transScore').textContent = score;
                document.getElementById('transEmpathy').textContent = empathyScore;
            } else if (currentQuestion >= scenarios.length) {
                showFinal();
            } else {
                loadQuestion();
            }
        }

        function continueToBlock2() {
            document.getElementById('transitionScreen').classList.add('hidden');
            document.getElementById('gameScreen').classList.remove('hidden');
            loadQuestion();
        }

        function showFinal() {
            document.getElementById('gameScreen').classList.add('hidden');
            document.getElementById('finalScreen').classList.remove('hidden');
            document.getElementById('finalScore').textContent = score;
            document.getElementById('finalEmpathy').textContent = empathyScore;

            const scorePercent = (score / 90) * 100;
            const empathyPercent = (empathyScore / 31) * 100;

            let profileMsg = '';
            if (scorePercent >= 80 && empathyPercent >= 80) {
                profileMsg = '<strong>üèÜ Champion de l\'inclusion !</strong><br>Vous avez d\'excellentes connaissances et une grande sensibilit√© aux situations de handicap. Vous √™tes un v√©ritable acteur du changement dans votre entreprise.';
            } else if (scorePercent >= 60) {
                profileMsg = '<strong>üëç En bonne voie !</strong><br>Vous avez de bonnes bases sur le handicap au travail. Continuez √† vous informer et √† √™tre √† l\'√©coute de vos coll√®gues.';
            } else {
                profileMsg = '<strong>üå± D√©butant motiv√© !</strong><br>Ce parcours vous a permis de d√©couvrir de nombreuses situations. N\'h√©sitez pas √† consulter les ressources pour approfondir vos connaissances.';
            }

            document.getElementById('profileMessage').innerHTML = profileMsg;
        }

        function restartGame() {
            currentQuestion = 0;
            score = 0;
            empathyScore = 0;
            selectedAnswers = [];
            document.getElementById('finalScreen').classList.add('hidden');
            document.getElementById('welcomeScreen').classList.remove('hidden');
        }
    </script>
</body>
</html>